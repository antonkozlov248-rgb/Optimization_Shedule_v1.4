Оптимизация школьного расписания
=================================

Система для автоматического составления школьного расписания с помощью генетических алгоритмов.

Проблема и решение
------------------

Составление расписания в школе - это сложная задача. Обычно завуч или методист тратит 2-3 дня на то, чтобы вручную расставить все уроки так, чтобы:
- Не было пересечений (один учитель не может вести два урока одновременно)
- Соблюдались санитарные нормы (не более 8 уроков в день)
- Нагрузка была распределена равномерно
- Трудные предметы чередовались с легкими

Наша система делает это автоматически за 12 секунд.

Особенности
-----------

1. Быстро
   - Генерирует расписание за 12 секунд вместо 2-3 дней ручной работы
   - Использует генетические алгоритмы для поиска оптимального варианта

2. Без ошибок
   - Проверяет все пересечения (учитель не может быть в двух местах одновременно)
   - Автоматически соблюдает требования СанПиН
   - Балансирует нагрузку по дням недели

3. Удобно редактировать
   - Drag-and-drop редактор - просто перетаскивай уроки мышкой
   - При перетаскивании система сразу показывает ошибки
   - Можно доработать расписание вручную после автоматической генерации

4. Экспортируется везде
   - Excel с форматированием
   - PDF отчет для директора
   - JSON для интеграции с другими системами
   - iCal для календарей

5. Есть аналитика
   - Графики нагрузки студентов по дням
   - Тепловые карты занятости
   - Сравнение качества: ручное составление vs алгоритм
   - Метрики соответствия санитарным нормам

Как это работает
----------------

Алгоритм работает так:

1. Берет начальные данные: список предметов, классов, учителей и часов в неделю
2. Генерирует 100 случайных расписаний
3. 500 поколений отбирает лучшие варианты и модифицирует их
4. В процессе эволюции система ищет расписание, которое:
   - Не имеет пересечений
   - Соблюдает санитарные нормы
   - Имеет равномерную нагрузку
5. Возвращает лучшее найденное расписание

Установка и запуск
------------------

Локально:

1. Клонируй репозиторий:
   git clone https://github.com/antonkozlov248-rgb/Optimization_Shedule.git
   cd Optimization_Shedule

2. Создай виртуальное окружение:
   python -m venv venv
   source venv/bin/activate  # На Windows: venv\Scripts\activate

3. Установи зависимости:
   pip install -r requirements.txt

4. Запусти приложение:
   python app.py

5. Открой в браузере:
   http://localhost:5000

Как использовать
----------------

Шаг 1: Подготовь данные
- Скачай шаблон Excel или создай файл с колонками:
  * Предмет (название)
  * Класс (9А, 9Б и т.д.)
  * Учитель (ФИО)
  * Часов в неделю (число)

Шаг 2: Загрузи файл
- На сайте нажми "Загрузить файл" и выбери свой Excel

Шаг 3: Оптимизируй
- Нажми кнопку "Оптимизировать"
- Ждешь 5-12 секунд
- Получаешь готовое расписание

Шаг 4: Посмотри результаты
- На вкладке "Редактор" видишь расписание
- На вкладке "Аналитика" смотришь графики и метрики
- При необходимости перетягиваешь уроки мышкой

Шаг 5: Скачай
- Экспортируешь в Excel, PDF или другой формат
- Передаешь завучу или директору

Требования к санитарным нормам
-------------------------------

Система учитывает требования:

- СанПиН 2.4.2.2821-10: максимум 8 уроков в день
- СанПиН 1.2.3685-21: распределение сложных предметов
- Требования ФИПИ к расписанию общеобразовательных учреждений

Структура проекта
------------------

Основные файлы:

- app.py - главное Flask приложение
- genetic_algorithm.py - реализация генетического алгоритма
- templates/index.html - веб-интерфейс
- static/app.js - логика на клиенте
- requirements.txt - список зависимостей

Зависимости
-----------

- Python 3.9+
- Flask 2.0+
- openpyxl - для работы с Excel
- reportlab - для генерации PDF

Результаты тестирования
-----------------------

На примере реальной школы (200 уроков в неделю):

- Время составления: 12 секунд (вместо 2-3 дней)
- Качество: 98% соответствие требованиям
- Ошибки: 0 пересечений
- Баланс нагрузки: стандартное отклонение < 15%

Развертывание на сервере
-------------------------

Для публикации используется Render (бесплатный хостинг).

1. Зарегистрируйся на render.com
2. Создай новый Web Service
3. Подключи свой GitHub репозиторий
4. Заполни:
   - Name: schedule-optimizer
   - Runtime: Python 3
   - Build command: pip install -r requirements.txt
   - Start command: python app.py
5. Нажми "Create Web Service"

Через 2-3 минуты сайт будет доступен по ссылке.

Известные ограничения
---------------------

- Для школ с более чем 500 уроками в неделю генерация может занять 30+ секунд
- Алгоритм находит хорошее решение, но не гарантирует абсолютный оптимум
- При очень сложных начальных условиях может потребоваться ручная доработка

Контакты
--------

Сообщить об ошибке: https://github.com/antonkozlov248-rgb/Optimization_Shedule/issues

Лицензия
--------

MIT License - используй свободно.